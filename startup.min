(
    quote
    string

    dup
    length
    2
    -

    1
    swap
    substr
)
(serialize)
lambda


(
    serialize

    quote
    "> $1\n"
    swap
    interpolate
)
(stack-item-format)
lambda


(
    get-stack
    (
        stack-item-format
        print!
    )
    foreach
)
(stack-print)
lambda


(
    "\n[----\nstack:\n"
    print!

    stack-print

    "\n]----\n\n"
    print!

    "[$1]\nÎ» "
    (.)
    apply
    interpolate
)
(stack-prompt)
lambda


(stack-prompt)
(prompt)
lambda
